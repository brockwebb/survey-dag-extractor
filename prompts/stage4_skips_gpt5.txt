# Stage 4: Skip logic and predicates (GPT-5 tuned)

Context
- You are given a window of survey text with visible directions and skip/branch logic.

Task
- Extract edges (sourceâ†’target) and predicates as simple AST.

Output (STRICT JSON)
{
  "edges": [
    {"source":"QID","target":"QID","predicate":"P_ID"}
  ],
  "predicates": {
    "P_ID": {"expr":"STRING","ast":[...], "depends_on":["QID", ...]}
  }
}

Rules
- Use simple AST forms: ["TRUE"], ["EQ","Q12",2], ["NE","Q3",1], ["INCLUDES","NDX2",8], ["NOT",[...]], ["AND", [...], [...]], ["OR", [...], [...]]
- Every edge must reference KNOWN question ids (do not invent).
- If an unconditional next step is indicated, predicate is P_TRUE with ast ["TRUE"] and depends_on [].
- Prefer precision and minimalism; do not include prose.

Return ONLY the JSON object above. No commentary.

